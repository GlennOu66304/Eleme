(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f663e80"],{"0056":function(t,e,i){},"04d1":function(t,e,i){var n=i("342f"),c=n.match(/firefox\/(\d+)/i);t.exports=!!c&&+c[1]},"0d5f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city"},[i("div",{staticClass:"search_wrap"},[i("div",{staticClass:"search"},[i("i",{staticClass:"fa fa-search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.city_val,expression:"city_val"}],attrs:{type:"text",placeholder:"输入城市名"},domProps:{value:t.city_val},on:{input:function(e){e.target.composing||(t.city_val=e.target.value)}}})]),i("button",{on:{click:function(e){return t.$router.push({name:"address",params:{city:t.city}})}}},[t._v(" 取消 ")])]),0==t.searchList.length?i("div",{staticStyle:{height:"478px"}},[i("div",{staticClass:"location"},[i("Location",{attrs:{address:t.city},on:{click:function(e){return t.selectCity({name:t.city})}}})],1),i("Alphabet",{ref:"allcity",attrs:{cityInfo:t.cityInfo,keys:t.keys},on:{selectCity:t.selectCity}})],1):i("div",{staticClass:"search_list"},[i("ul",t._l(t.searchList,(function(e,n){return i("li",{key:n,on:{click:function(i){return t.selectCity(e)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])])},c=[],s=(i("d3b7"),i("ddb0"),i("b64b"),i("4e82"),i("159b"),i("b0c0"),i("4de4"),i("172d")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.cityInfo?i("div",{ref:"area_scroll",staticClass:"area"},[i("div",{staticClass:"scroll_wrap"},[i("div",{staticClass:"hotwrap cityList"},[i("div",{staticClass:"title"},[t._v("热门城市")]),i("ul",{staticClass:"hot_city"},t._l(t.cityInfo.hotCities,(function(e,n){return i("li",{key:n,on:{click:function(i){return t.$emit("selectCity",e)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticClass:"city_wrap"},t._l(t.keys,(function(e,n){return i("div",{key:n,staticClass:"city_content cityList"},[i("div",{staticClass:"title"},[t._v(t._s(e))]),i("ul",t._l(t.cityInfo[e],(function(e,n){return i("li",{key:n,on:{click:function(i){return t.$emit("selectCity",e)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])})),0)]),i("div",{staticClass:"area_keys"},[i("ul",[i("li",{on:{click:function(e){return t.selectKey(0)}}},[t._v("#")]),t._l(t.keys,(function(e,n){return i("li",{key:n,on:{click:function(e){return t.selectKey(n+1)}}},[t._v(" "+t._s(e)+" ")])}))],2)])]):t._e()},a=[],o=i("1fba"),l={name:"Alphabet",data:function(){return{scroll:null}},props:{cityInfo:Object,keys:Array},methods:{initScroll:function(){this.scroll=new o["a"](this.$refs.area_scroll,{click:!0})},selectKey:function(t){var e=this.$refs.area_scroll.getElementsByClassName("cityList"),i=e[t];this.scroll.scrollToElement(i,250)}}},u=l,f=(i("d198"),i("2877")),d=Object(f["a"])(u,r,a,!1,null,"5c559964",null),h=d.exports,v={name:"city",data:function(){return{city_val:"",cityInfo:null,keys:[],allCities:[],searchList:[]}},computed:{city:function(){return this.$store.getters.location.addressComponent.city||this.$store.getters.location.addressComponent.province}},created:function(){this.getCityInfo()},watch:{city_val:function(){this.searchCity()}},methods:{getCityInfo:function(){var t=this;this.$axios("/api/posts/cities").then((function(e){console.log(e.data),t.cityInfo=e.data,t.keys=Object.keys(e.data),t.keys.pop(),t.keys.sort(),t.$nextTick((function(){t.$refs.allcity.initScroll()})),t.keys.forEach((function(e){t.cityInfo[e].forEach((function(e){t.allCities.push(e)}))}))})).catch((function(t){console.log(t)}))},selectCity:function(t){this.$router.push({name:"address",params:{city:t.name}})},searchCity:function(){var t=this;this.city_val?(this.searchList=this.allCities.filter((function(e){return-1!=e.name.indexOf(t.city_val)})),console.log(this.searchList)):this.searchList=[]}},components:{Location:s["a"],Alphabet:h}},y=v,p=(i("2cdd"),Object(f["a"])(y,n,c,!1,null,"679c57f0",null));e["default"]=p.exports},"172d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title"},[t._v("当前定位")]),i("div",{staticClass:"des",on:{click:function(e){return t.$emit("click")}}},[i("i",{staticClass:"fa fa-location-arrow"}),i("span",[t._v(t._s(t.address))])])])},c=[],s={name:"location",props:{address:String}},r=s,a=(i("84b9"),i("2877")),o=Object(a["a"])(r,n,c,!1,null,"8ca7b4de",null);e["a"]=o.exports},"1dde":function(t,e,i){var n=i("d039"),c=i("b622"),s=i("2d00"),r=c("species");t.exports=function(t){return s>=51||!n((function(){var e=[],i=e.constructor={};return i[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2cdd":function(t,e,i){"use strict";i("0056")},"4de4":function(t,e,i){"use strict";var n=i("23e7"),c=i("b727").filter,s=i("1dde"),r=s("filter");n({target:"Array",proto:!0,forced:!r},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(t,e,i){"use strict";var n=i("23e7"),c=i("1c0b"),s=i("7b0b"),r=i("50c4"),a=i("d039"),o=i("addb"),l=i("a640"),u=i("04d1"),f=i("d998"),d=i("2d00"),h=i("512c"),v=[],y=v.sort,p=a((function(){v.sort(void 0)})),_=a((function(){v.sort(null)})),b=l("sort"),m=!a((function(){if(d)return d<70;if(!(u&&u>3)){if(f)return!0;if(h)return h<603;var t,e,i,n,c="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)v.push({k:e+n,v:i})}for(v.sort((function(t,e){return e.v-t.v})),n=0;n<v.length;n++)e=v[n].k.charAt(0),c.charAt(c.length-1)!==e&&(c+=e);return"DGBEFHACIJK"!==c}})),C=p||!_||!b||!m,k=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:String(e)>String(i)?1:-1}};n({target:"Array",proto:!0,forced:C},{sort:function(t){void 0!==t&&c(t);var e=s(this);if(m)return void 0===t?y.call(e):y.call(e,t);var i,n,a=[],l=r(e.length);for(n=0;n<l;n++)n in e&&a.push(e[n]);a=o(a,k(t)),i=a.length,n=0;while(n<i)e[n]=a[n++];while(n<l)delete e[n++];return e}})},"512c":function(t,e,i){var n=i("342f"),c=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!c&&+c[1]},"84b9":function(t,e,i){"use strict";i("980d")},"980d":function(t,e,i){},addb:function(t,e){var i=Math.floor,n=function(t,e){var r=t.length,a=i(r/2);return r<8?c(t,e):s(n(t.slice(0,a),e),n(t.slice(a),e),e)},c=function(t,e){var i,n,c=t.length,s=1;while(s<c){n=s,i=t[s];while(n&&e(t[n-1],i)>0)t[n]=t[--n];n!==s++&&(t[n]=i)}return t},s=function(t,e,i){var n=t.length,c=e.length,s=0,r=0,a=[];while(s<n||r<c)s<n&&r<c?a.push(i(t[s],e[r])<=0?t[s++]:e[r++]):a.push(s<n?t[s++]:e[r++]);return a};t.exports=n},b0c0:function(t,e,i){var n=i("83ab"),c=i("9bf2").f,s=Function.prototype,r=s.toString,a=/^\s*function ([^ (]*)/,o="name";n&&!(o in s)&&c(s,o,{configurable:!0,get:function(){try{return r.call(this).match(a)[1]}catch(t){return""}}})},b64b:function(t,e,i){var n=i("23e7"),c=i("7b0b"),s=i("df75"),r=i("d039"),a=r((function(){s(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(t){return s(c(t))}})},d198:function(t,e,i){"use strict";i("e94f")},d998:function(t,e,i){var n=i("342f");t.exports=/MSIE|Trident/.test(n)},e94f:function(t,e,i){}}]);
//# sourceMappingURL=chunk-0f663e80.51005923.js.map