{"version":3,"sources":["webpack:///./src/views/shop/Goods.vue?0b02","webpack:///./src/components/shops/CartControl.vue?506e","webpack:///src/components/shops/CartControl.vue","webpack:///./src/components/shops/CartControl.vue?fd19","webpack:///./src/components/shops/CartControl.vue","webpack:///./src/views/shop/ShopCart.vue?87d9","webpack:///src/views/shop/ShopCart.vue","webpack:///./src/views/shop/ShopCart.vue?e7c7","webpack:///./src/views/shop/ShopCart.vue","webpack:///./src/views/shop/Food.vue?d52c","webpack:///src/views/shop/Food.vue","webpack:///./src/views/shop/Food.vue?e729","webpack:///./src/views/shop/Food.vue","webpack:///src/views/shop/Goods.vue","webpack:///./src/views/shop/Goods.vue?ab83","webpack:///./src/views/shop/Goods.vue","webpack:///./src/views/shop/ShopCart.vue?c07e","webpack:///./src/components/shops/CartControl.vue?b543","webpack:///./src/views/shop/Goods.vue?f0ca","webpack:///./src/views/shop/Food.vue?7c51"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","shopInfo","recommend","index","key","_v","_s","name","item","attrs","image_path","month_sales","satisfy_rate","activity","fixed_price","ref","class","current","currentIndex","on","$event","selectMenu","icon_url","_e","description","food","handleFood","selectedFoods","showFoods","staticRenderFns","count","stopPropagation","decreaseCount","apply","arguments","increaseCount","props","Object","methods","component","showCartView","isEmpty","target","currentTarget","clearFoods","totalCount","totalPrice","toFixed","rst","float_delivery_fee","float_minimum_order_amount","settlement","data","computed","forEach","items","empty","menu","foods","$store","dispatch","selectFoods","$router","push","components","Cartcontrol","$emit","isShow","Boolean","menuScroll","foodsScroll","scrollY","listHeight","created","getData","height1","height2","i","$axios","then","res","initScroll","click","probeType","scrollToElement","el","calculateHeight","height","clienttHeight","ShopCart","Food"],"mappings":"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","file":"js/chunk-28a7154c.09d7920f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shopInfo)?_c('div',{staticClass:\"goods\"},[_vm._l((_vm.shopInfo.recommend),function(recommend,index){return _c('div',{key:index,staticClass:\"recommend\"},[_c('p',{staticClass:\"recommend-name\"},[_vm._v(_vm._s(recommend.name))]),_c('div',{staticClass:\"recommend-wrap\"},[_c('ul',_vm._l((recommend.items),function(item,index){return _c('li',{key:index},[_c('img',{attrs:{\"src\":item.image_path,\"alt\":\"\"}}),_c('div',{staticClass:\"recommend-food\"},[_c('p',{staticClass:\"recommend-food-name\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"recommend-food-zm\"},[_vm._v(\" 月售\"+_vm._s(item.month_sales)+\"份 / 好评率\"+_vm._s(item.satisfy_rate)+\"% \")])]),_c('div',{staticClass:\"recommend-food-price\"},[_c('p',[_vm._v(\"¥\"+_vm._s(item.activity.fixed_price))]),_c('Cartcontrol',{attrs:{\"food\":item}})],1)])}),0)])])}),_c('div',{staticClass:\"menuview\"},[_c('div',{ref:\"menuScroll\",staticClass:\"menu-wrapper\"},[_c('ul',_vm._l((_vm.shopInfo.menu),function(item,index){return _c('li',{key:index,class:{ current: _vm.currentIndex === index },on:{\"click\":function($event){return _vm.selectMenu(index)}}},[(item.icon_url)?_c('img',{attrs:{\"src\":item.icon_url,\"alt\":\"\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(item.name))])])}),0)]),_c('div',{ref:\"foodsScroll\",staticClass:\"foods-wrapper\"},[_c('ul',_vm._l((_vm.shopInfo.menu),function(item,index){return _c('li',{key:index,staticClass:\"food-list-hook\"},[_c('div',{staticClass:\"category-title\"},[_c('strong',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.description))])]),_vm._l((item.foods),function(food,index){return _c('div',{key:index,staticClass:\"fooddetails\",on:{\"click\":function($event){return _vm.handleFood(food)}}},[_c('img',{attrs:{\"src\":food.image_path,\"alt\":\"\"}}),_c('section',{staticClass:\"fooddetails-info\"},[_c('h4',[_vm._v(_vm._s(food.name))]),_c('p',{staticClass:\"fooddetails-des\"},[_vm._v(_vm._s(food.description))]),_c('p',[_vm._v(\" 月售\"+_vm._s(food.month_sales)+\"份 / 好评率\"+_vm._s(food.satisfy_rate)+\"% \")]),_c('div',{staticClass:\"fooddetails-price\"},[_c('span',{staticClass:\"price\"},[_vm._v(\" ¥\"+_vm._s(food.activity.fixed_price)+\" \")]),_c('Cartcontrol',{attrs:{\"food\":food}})],1)])])})],2)}),0)])]),_c('ShopCart',{attrs:{\"shopInfo\":_vm.shopInfo}}),_c('Food',{attrs:{\"food\":_vm.selectedFoods,\"isShow\":_vm.showFoods},on:{\"close\":function($event){_vm.showFoods = false}}})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cartControl\"},[(_vm.food.count > 0)?_c('span',{staticClass:\"cartbutton button-minus\",on:{\"click\":function($event){$event.stopPropagation();return _vm.decreaseCount.apply(null, arguments)}}},[_c('i',{staticClass:\"fa fa-minus\"})]):_vm._e(),(_vm.food.count > 0)?_c('span',{staticClass:\"cartcount\"},[_vm._v(_vm._s(_vm.food.count))]):_vm._e(),_c('span',{staticClass:\"cartbutton button-plus\",on:{\"click\":function($event){$event.stopPropagation();return _vm.increaseCount.apply(null, arguments)}}},[_c('i',{staticClass:\"fa fa-plus-circle\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cartControl\">\n    <span\n      @click.stop=\"decreaseCount\"\n      class=\"cartbutton button-minus\"\n      v-if=\"food.count > 0\"\n    >\n      <i class=\"fa fa-minus\"></i>\n    </span>\n    <span class=\"cartcount\" v-if=\"food.count > 0\">{{ food.count }}</span>\n    <span class=\"cartbutton button-plus\" @click.stop=\"increaseCount\">\n      <i class=\"fa fa-plus-circle\"></i>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CartController\",\n  props: {\n    food: Object,\n  },\n  methods: {\n    decreaseCount() {\n      this.food.count--;\n    },\n    increaseCount() {\n      this.food.count++;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.cartcontroll {\n  display: inline-flex;\n  align-items: center;\n}\n.cartbutton {\n  display: inline-block;\n  vertical-align: middle;\n}\n.cartbutton i {\n  color: rgb(35, 149, 255);\n  vertical-align: middle;\n  font-size: 1.5rem;\n}\n.button-minus {\n  width: 4.866667vw;\n  height: 4.866667vw;\n  border: 1px solid rgb(35, 149, 255);\n  border-radius: 50%;\n  text-align: center;\n}\n.button-minus i {\n  font-size: 1rem;\n}\n.cartcount {\n  display: inline-block;\n  text-align: center;\n  color: rgba(0, 0, 0, 0.87);\n  vertical-align: middle;\n  font-size: 0.8rem;\n  width: 6.933333vw;\n  overflow: hidden;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartControl.vue?vue&type=template&id=396f8962&scoped=true&\"\nimport script from \"./CartControl.vue?vue&type=script&lang=js&\"\nexport * from \"./CartControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartControl.vue?vue&type=style&index=0&id=396f8962&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"396f8962\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopcart\"},[_c('transition',[(_vm.showCartView && !_vm.isEmpty)?_c('div',{staticClass:\"cartview-cartmask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.showCartView = false}}},[_c('div',{staticClass:\"cartview-cartbody\"},[_c('div',{staticClass:\"cartview-cartheader\"},[_c('span',[_vm._v(\"已选商品\")]),_c('button',[_c('i',{staticClass:\"fa fa-trash-o\"}),_c('span',{on:{\"click\":_vm.clearFoods}},[_vm._v(\"清空\")])])]),_c('div',{staticClass:\"entityList-cartbodyScroller\"},[_c('ul',{staticClass:\"entityList-cartlist\"},_vm._l((_vm.selectedFoods),function(food,index){return _c('li',{key:index,staticClass:\"entityList-entityrow\"},[_c('h4',[_c('span',[_vm._v(_vm._s(food.name))])]),_c('span',{staticClass:\"entityList-entitytotal\"},[_vm._v(_vm._s(food.activity.fixed_price))]),_c('Cartcontrol',{attrs:{\"food\":food}})],1)}),0)])])]):_vm._e()]),_c('div',{staticClass:\"bottomNav-cartfooter\",class:{ 'bottomNav-carticon-empty': _vm.isEmpty }},[_c('span',{staticClass:\"bottomNav-carticon\",on:{\"click\":function($event){_vm.showCartView = !_vm.showCartView}}},[_c('i',{staticClass:\"fa fa-cart-plus\"}),(_vm.totalCount)?_c('span',[_vm._v(_vm._s(this.totalCount))]):_vm._e()]),_c('div',{staticClass:\"bottomNav-cartInfo\",on:{\"click\":function($event){_vm.showCartView = !_vm.showCartView}}},[_c('p',{staticClass:\"bottomNav-carttotal\"},[(_vm.isEmpty)?_c('span',[_vm._v(\"未选购商品\")]):_c('span',[_vm._v(\"¥\"+_vm._s(_vm.totalPrice.toFixed(2)))])]),_c('p',{staticClass:\"bottomNav-cartdelivery\"},[_vm._v(\" 另需配送费\"+_vm._s(_vm.shopInfo.rst.float_delivery_fee)+\"元 \")])]),_c('button',{staticClass:\"submit-btn\"},[(_vm.isEmpty)?_c('span',[_vm._v(\"¥\"+_vm._s(_vm.shopInfo.rst.float_minimum_order_amount)+\"元起送\")]):_vm._e(),_c('span',{on:{\"click\":_vm.settlement}},[_vm._v(\"去结算\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"shopcart\">\n    <transition>\n      <div\n        class=\"cartview-cartmask\"\n        @click.self=\"showCartView = false\"\n        v-if=\"showCartView && !isEmpty\"\n      >\n        <div class=\"cartview-cartbody\">\n          <div class=\"cartview-cartheader\">\n            <span>已选商品</span>\n            <button>\n              <i class=\"fa fa-trash-o\"></i>\n              <span @click=\"clearFoods\">清空</span>\n            </button>\n          </div>\n\n          <div class=\"entityList-cartbodyScroller\">\n            <ul class=\"entityList-cartlist\">\n              <li\n                class=\"entityList-entityrow\"\n                v-for=\"(food, index) in selectedFoods\"\n                :key=\"index\"\n              >\n                <h4>\n                  <span>{{ food.name }}</span>\n                </h4>\n\n                <span class=\"entityList-entitytotal\">{{\n                  food.activity.fixed_price\n                }}</span>\n\n                <Cartcontrol :food=\"food\" />\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <div\n      class=\"bottomNav-cartfooter\"\n      :class=\"{ 'bottomNav-carticon-empty': isEmpty }\"\n    >\n      <span class=\"bottomNav-carticon\" @click=\"showCartView = !showCartView\">\n        <i class=\"fa fa-cart-plus\"></i>\n        <span v-if=\"totalCount\">{{ this.totalCount }}</span>\n      </span>\n      <div class=\"bottomNav-cartInfo\" @click=\"showCartView = !showCartView\">\n        <p class=\"bottomNav-carttotal\">\n          <span v-if=\"isEmpty\">未选购商品</span>\n          <span v-else>¥{{ totalPrice.toFixed(2) }}</span>\n        </p>\n        <p class=\"bottomNav-cartdelivery\">\n          另需配送费{{ shopInfo.rst.float_delivery_fee }}元\n        </p>\n      </div>\n      <button class=\"submit-btn\">\n        <span v-if=\"isEmpty\"\n          >¥{{ shopInfo.rst.float_minimum_order_amount }}元起送</span\n        >\n        <span @click=\"settlement\">去结算</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Cartcontrol from \"../../components/shops/CartControl.vue\";\nexport default {\n  name: \"ShopCart\",\n  props: {\n    shopInfo: Object,\n  },\n  data() {\n    return {\n      totalCount: 0,\n      totalPrice: 0,\n      selectedFoods: [],\n      showCartView: false,\n    };\n  },\n  computed: {\n    isEmpty() {\n      let empty = true;\n      this.totalCount = 0;\n      this.totalPrice = 0;\n      this.selectedFoods = [];\n      this.shopInfo.recommend.forEach((recommend) => {\n        recommend.items.forEach((item) => {\n          if (item.count) {\n            empty = false;\n            this.totalCount += item.count;\n            this.totalPrice += item.activity.fixed_price * item.count;\n            this.selectedFoods.push(item);\n          }\n        });\n      });\n\n      this.shopInfo.menu.forEach((menu) => {\n        menu.foods.forEach((food) => {\n          if (food.count) {\n            empty = false;\n            this.totalCount += food.count;\n            this.totalPrice += food.activity.fixed_price * food.count;\n            this.selectedFoods.push(food);\n          }\n        });\n      });\n      return empty;\n    },\n  },\n  // created() {\n  //   console.log(this.shopInfo);\n  // },\n  methods: {\n    clearFoods() {\n      this.shopInfo.recommend.forEach((recommend) => {\n        recommend.items.forEach((item) => {\n          item.count = 0;\n        });\n      });\n\n      this.shopInfo.menu.forEach((menu) => {\n        menu.foods.forEach((food) => {\n          food.count = 0;\n        });\n      });\n    },\n    settlement() {\n      this.$store.dispatch(\"setOrderInfo\", {\n        shopInfo: this.shopInfo.rst,\n        selectFoods: this.selectedFoods,\n      });\n      this.$router.push(\"/settlement\");\n    },\n  },\n  components: {\n    Cartcontrol,\n  },\n};\n</script>\n\n<style scoped>\n.bottomNav-cartfooter {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  padding-left: 21.066667vw;\n  background-color: rgba(61, 61, 63, 0.9);\n  height: 12.8vw;\n  z-index: 1000;\n}\n\n.bottomNav-carticon {\n  position: absolute;\n  left: 3.2vw;\n  bottom: 2vw;\n  width: 13.333333vw;\n  height: 13.333333vw;\n  box-sizing: border-box;\n  border-radius: 100%;\n  background-color: #3190e8;\n  border: 1.333333vw solid #444;\n  box-shadow: 0 -0.8vw 0.533333vw 0 rgba(0, 0, 0, 0.1);\n}\n.bottomNav-carticon > i {\n  position: absolute;\n  top: 7px;\n  right: 0;\n  bottom: 0;\n  left: 7px;\n  color: #fff;\n  font-size: 1.6rem;\n}\n.bottomNav-cartInfo {\n  flex: 1;\n}\n.bottomNav-carttotal {\n  font-size: 0.8rem;\n  line-height: normal;\n  color: #fff;\n}\n.bottomNav-cartdelivery {\n  color: #999;\n  font-size: 0.6rem;\n}\n.submit-btn {\n  height: 100%;\n  width: 28vw;\n  background-color: #38ca73;\n  color: #fff;\n  text-align: center;\n  text-decoration: none;\n  font-size: 0.9rem;\n  font-weight: 600;\n  line-height: 12.8vw;\n  border: none;\n  outline: none;\n}\n\n.bottomNav-carticon-empty > span {\n  background-image: radial-gradient(circle, #363636 6.266667vw, #444 0);\n}\n.bottomNav-carticon-empty > span > i {\n  color: #606065 !important;\n}\n.bottomNav-carticon-empty .bottomNav-carttotal > span {\n  color: #999;\n}\n.bottomNav-carticon-empty .submit-btn {\n  background-color: #535356 !important;\n}\n\n.bottomNav-carticon > span {\n  position: absolute;\n  right: -1.2vw;\n  top: -1.333333vw;\n  line-height: 1;\n  background-image: linear-gradient(-90deg, #ff7416, #ff3c15 98%);\n  color: #fff;\n  border-radius: 3.2vw;\n  padding: 0.833333vw 1.333333vw;\n  font-size: 0.6rem;\n}\n\n.cartview-cartmask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 200;\n}\n.cartview-cartbody {\n  position: fixed;\n  left: 0;\n  width: 100%;\n  background-color: #fff;\n  bottom: 12.8vw;\n  z-index: 201;\n  opacity: 1;\n  font-size: 1rem;\n}\n.cartview-cartheader {\n  display: flex;\n  align-items: center;\n  padding: 0 4vw;\n  border-bottom: 0.133333vw solid #ddd;\n  background-color: #eceff1;\n  color: #666;\n  height: 10.666667vw;\n}\n.cartview-cartheader > span {\n  flex: 1;\n  display: flex;\n  align-items: center;\n}\n.cartview-cartheader > button {\n  border: none;\n  outline: none;\n  flex: none;\n  display: flex;\n  align-items: center;\n  padding-left: 4vw;\n  color: #666;\n  text-decoration: none;\n  font-size: 0.8rem;\n  line-height: 4vw;\n  background: none;\n}\n.cartview-cartheader > button > span {\n  margin-left: 0.8vw;\n}\n.entityList-cartbodyScroller {\n  overflow: auto;\n  max-height: 80vw;\n}\n.entityList-entityrow {\n  border-bottom: 0.133333vw solid #eee;\n  display: flex;\n  align-items: center;\n  padding: 2vw 3.333333vw 2vw 0;\n  min-height: 12.666667vw;\n  margin-left: 3.333333vw;\n}\n.entityList-entityrow > h4 {\n  flex: 5.5;\n  line-height: normal;\n}\n.entityList-entityrow > h4 > span {\n  display: inline-block;\n  font-style: normal;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  vertical-align: middle;\n  max-width: 46.666667vw;\n}\n.entityList-entitytotal {\n  color: rgb(255, 83, 57);\n  flex: 2.5;\n  text-align: left;\n  white-space: nowrap;\n  font-weight: 700;\n}\n.entityList-entitytotal::before {\n  content: \"\\A5\";\n  font-size: 0.6rem;\n  color: currentColor;\n}\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.25s ease-out;\n}\n\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShopCart.vue?vue&type=template&id=76a720fe&scoped=true&\"\nimport script from \"./ShopCart.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopCart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShopCart.vue?vue&type=style&index=0&id=76a720fe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76a720fe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"move\"}},[(_vm.isShow)?_c('div',{staticClass:\"food\"},[_c('div',{staticClass:\"foodpanel-close\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('img',{attrs:{\"src\":\"https://fuss10.elemecdn.com/8/ba/bcfa8cc62b20e044bd2ea1c1c7f3dpng.png?imageMogr/format/webp/\",\"alt\":\"\"}})]),_c('div',{staticClass:\"foodpanel-body\"},[_c('div',{staticClass:\"foodpanel-foodimg\"},[_c('img',{attrs:{\"src\":_vm.food.image_path,\"alt\":\"\"}})]),_c('div',{staticClass:\"foodpanel-foodinfo\"},[_c('h4',[_vm._v(_vm._s(_vm.food.name))]),_c('div',{staticClass:\"foodpanel-foodsales\"},[_c('span',[_vm._v(\"月售\"+_vm._s(_vm.food.month_sales))]),_c('span',[_vm._v(\"好评率\"+_vm._s(_vm.food.satisfy_rate))])]),_c('div',{staticClass:\"foodpanel-priceLine\"},[_c('span',[_vm._v(\"￥\"+_vm._s(_vm.food.activity.fixed_price))]),_c('Cartcontrol',{staticClass:\"cart-btn\",attrs:{\"food\":_vm.food}})],1),_c('p',[_vm._v(_vm._s(_vm.food.description))])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition name=\"move\">\n    <div class=\"food\" v-if=\"isShow\">\n      <div class=\"foodpanel-close\" @click=\"$emit('close')\">\n        <img\n          src=\"https://fuss10.elemecdn.com/8/ba/bcfa8cc62b20e044bd2ea1c1c7f3dpng.png?imageMogr/format/webp/\"\n          alt\n        />\n      </div>\n\n      <div class=\"foodpanel-body\">\n        <div class=\"foodpanel-foodimg\">\n          <img :src=\"food.image_path\" alt />\n        </div>\n\n        <div class=\"foodpanel-foodinfo\">\n          <h4>{{ food.name }}</h4>\n          <div class=\"foodpanel-foodsales\">\n            <span>月售{{ food.month_sales }}</span>\n            <span>好评率{{ food.satisfy_rate }}</span>\n          </div>\n\n          <div class=\"foodpanel-priceLine\">\n            <span>￥{{ food.activity.fixed_price }}</span>\n            <Cartcontrol class=\"cart-btn\" :food=\"food\" />\n          </div>\n          <p>{{ food.description }}</p>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport Cartcontrol from \"../../components/shops/CartControl.vue\";\nexport default {\n  name: \"Food\",\n  props: {\n    food: Object,\n    isShow: Boolean,\n  },\n  components: {\n    Cartcontrol,\n  },\n};\n</script>\n<style scoped>\n.food {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 100;\n}\n.foodpanel-close {\n  width: 7.466667vw;\n  height: 7.466667vw;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 1;\n  top: 2.133333vw;\n  right: 4vw;\n}\n.foodpanel-close img {\n  width: 5.333333vw;\n  height: 5.333333vw;\n}\n.foodpanel-body {\n  position: relative;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 20vw;\n  box-sizing: border-box;\n  overflow-x: hidden;\n}\n.foodpanel-foodimg {\n  width: 100%;\n  height: 100vw;\n  display: block;\n}\n.foodpanel-foodimg img {\n  width: 100%;\n  height: 100%;\n}\n.foodpanel-foodinfo {\n  padding: 4vw 4vw 0;\n  width: 100%;\n  min-height: 29.333333vw;\n}\n.foodpanel-foodinfo h4 {\n  display: flex;\n  align-items: center;\n  margin-bottom: 2.4vw;\n  font-size: 1.2rem;\n  font-weight: 700;\n  width: 74.666667vw;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.foodpanel-foodsales {\n  font-size: 0.8rem;\n  color: #666;\n  line-height: 1;\n  margin-bottom: 2.4vw;\n}\n.foodpanel-priceLine {\n  display: flex;\n  align-items: center;\n  margin-bottom: 2.4vw;\n  position: relative;\n}\n.foodpanel-priceLine > span {\n  font-size: 1rem;\n  line-height: 4.266667vw;\n  color: #ff5339;\n  padding-bottom: 0.933333vw;\n  display: flex;\n  align-items: baseline;\n}\n.foodpanel-priceLine .cart-btn {\n  position: absolute;\n  right: 8vw;\n}\n.foodpanel-foodinfo > p {\n  font-size: 0.8rem;\n  color: #666;\n  line-height: 3.733333vw;\n  padding-right: 8vw;\n}\n\n.move-enter-active,\n.move-leave-active {\n  transition: all 0.25s ease-in;\n  transform: translate(0, -500px);\n}\n\n.move-enter,\n.move-leave-to {\n  transform: translate(0, 500px);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Food.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Food.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Food.vue?vue&type=template&id=29a5388c&scoped=true&\"\nimport script from \"./Food.vue?vue&type=script&lang=js&\"\nexport * from \"./Food.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Food.vue?vue&type=style&index=0&id=29a5388c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29a5388c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"goods\" v-if=\"shopInfo\">\n    <div\n      class=\"recommend\"\n      v-for=\"(recommend, index) in shopInfo.recommend\"\n      :key=\"index\"\n    >\n      <p class=\"recommend-name\">{{ recommend.name }}</p>\n      <div class=\"recommend-wrap\">\n        <ul>\n          <li v-for=\"(item, index) in recommend.items\" :key=\"index\">\n            <img :src=\"item.image_path\" alt=\"\" />\n            <div class=\"recommend-food\">\n              <p class=\"recommend-food-name\">{{ item.name }}</p>\n              <p class=\"recommend-food-zm\">\n                月售{{ item.month_sales }}份 / 好评率{{ item.satisfy_rate }}%\n              </p>\n            </div>\n            <div class=\"recommend-food-price\">\n              <p>¥{{ item.activity.fixed_price }}</p>\n              <Cartcontrol :food=\"item\" />\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class=\"menuview\">\n      <div class=\"menu-wrapper\" ref=\"menuScroll\">\n        <ul>\n          <li\n            :class=\"{ current: currentIndex === index }\"\n            @click=\"selectMenu(index)\"\n            v-for=\"(item, index) in shopInfo.menu\"\n            :key=\"index\"\n          >\n            <img v-if=\"item.icon_url\" :src=\"item.icon_url\" alt=\"\" />\n            <span>{{ item.name }}</span>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"foods-wrapper\" ref=\"foodsScroll\">\n        <ul>\n          <li\n            class=\"food-list-hook\"\n            v-for=\"(item, index) in shopInfo.menu\"\n            :key=\"index\"\n          >\n            <div class=\"category-title\">\n              <strong>{{ item.name }}</strong>\n              <span>{{ item.description }}</span>\n            </div>\n\n            <div\n              class=\"fooddetails\"\n              v-for=\"(food, index) in item.foods\"\n              :key=\"index\"\n              @click=\"handleFood(food)\"\n            >\n              <img :src=\"food.image_path\" alt=\"\" />\n\n              <section class=\"fooddetails-info\">\n                <h4>{{ food.name }}</h4>\n                <p class=\"fooddetails-des\">{{ food.description }}</p>\n                <p>\n                  月售{{ food.month_sales }}份 / 好评率{{ food.satisfy_rate }}%\n                </p>\n                <div class=\"fooddetails-price\">\n                  <span class=\"price\"> ¥{{ food.activity.fixed_price }} </span>\n                  <Cartcontrol :food=\"food\" />\n                </div>\n              </section>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <ShopCart :shopInfo=\"shopInfo\" />\n    <Food\n      :food=\"selectedFoods\"\n      :isShow=\"showFoods\"\n      @close=\"showFoods = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport Cartcontrol from \"../../components/shops/CartControl.vue\";\nimport BScroll from \"better-scroll\";\nimport ShopCart from \"./ShopCart.vue\";\nimport Food from \"./Food.vue\";\nexport default {\n  name: \"Goods\",\n  data() {\n    return {\n      shopInfo: null,\n      menuScroll: {},\n      foodsScroll: {},\n      scrollY: 0,\n      listHeight: [],\n      selectedFoods: null,\n      showFoods: false,\n      currentIndex: 0,\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n  computed: {\n    currentIndex() {\n      for (let i = 0; i < this.listHeight.length; i++) {\n        let height1 = this.listHeight[i];\n        let height2 = this.listHeight[i + 1];\n\n        if (this.scrollY >= height1 && this.scrollY < height2) {\n          return i;\n        }\n      }\n      return 0;\n    },\n  },\n  methods: {\n    getData() {\n      this.$axios(\"/api/profile/batch_shop\").then((res) => {\n        res.data.recommend.forEach((item) => {\n          item.items.forEach((item) => {\n            item.count = 0;\n          });\n        });\n\n        res.data.menu.forEach((menu) => {\n          menu.foods.forEach((item) => {\n            item.count = 0;\n          });\n        });\n\n        this.shopInfo = res.data;\n\n        this.$nextTick(() => {\n          this.initScroll();\n          this.calculateHeight();\n        });\n      });\n    },\n    initScroll() {\n      this.menuScroll = new BScroll(this.$refs.menuScroll, {\n        click: true,\n      });\n      // console.log(this.menuScroll);\n      this.foodsScroll = new BScroll(this.$refs.foodsScroll, {\n        probeType: 3,\n        click: true,\n      });\n      this.foodsScroll.on(\"scroll\", (pos) => {\n        this.scrollY = Math.abs(Math.round(pos.y));\n        // console.log(this.scrollY);\n      });\n    },\n\n    selectMenu(index) {\n      // console.log(index);\n      let foodlist = this.$refs.foodsScroll.getElementsByClassName(\n        \"food-list-hook\"\n      );\n\n      let el = foodlist[index];\n      // console.log(el);\n      // 滚动到对应元素的位置\n      this.foodsScroll.scrollToElement(el, 250);\n      this.currentIndex = index;\n    },\n    calculateHeight() {\n      let foodlist = this.$refs.foodsScroll.getElementsByClassName(\n        \"food-list-hook\"\n      );\n      let height = 0;\n      this.listHeight.push(height);\n      for (let i = 0; i < foodlist.length - 1; i++) {\n        let item = foodlist[i];\n        height += item.clienttHeight;\n        this.listHeight.push(height);\n      }\n    },\n    handleFood(food) {\n      this.selectedFoods = food;\n      this.showFoods = true;\n    },\n  },\n  components: {\n    Cartcontrol,\n    ShopCart,\n    Food,\n  },\n};\n</script>\n<style scoped>\n.goods {\n  position: relative;\n  height: calc(100% - 10.666667vw);\n}\n\n.recommend {\n  padding-top: 4.266667vw;\n  background-color: #fff;\n}\n.recommend-name {\n  padding-left: 4.266667vw;\n  color: #333;\n  font-size: 1rem;\n  font-weight: 700;\n  margin-bottom: 2.666667vw;\n}\n.recommend-wrap {\n  overflow-x: scroll;\n  display: flex;\n  width: 100%;\n}\n.recommend-wrap ul {\n  display: flex;\n  padding-left: 4.266667vw;\n}\n.recommend-wrap ul li {\n  flex: none;\n  width: 32vw;\n  margin-right: 2.666667vw;\n}\n.recommend-wrap li img {\n  display: block;\n  width: 32vw;\n  height: 32vw;\n  border-top-left-radius: 0.8vw;\n  border-top-right-radius: 0.8vw;\n  max-width: 100%;\n}\n.recommend-food .recommend-food-name {\n  color: #333;\n  font-size: 0.8rem;\n  margin: 1.866667vw 0 1.233333vw;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.recommend-food .recommend-food-zm {\n  color: #999;\n  font-size: 0.6rem;\n  margin-bottom: 1.866667vw;\n  min-height: 1em;\n}\n.recommend-food-price {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-right: 0.266667vw;\n}\n.recommend-food-price p {\n  font-size: 1rem;\n  color: #ff5339;\n}\n\n::-webkit-scrollbar {\n  width: 0 !important;\n}\n\n.menuview {\n  box-sizing: border-box;\n  height: 100%;\n  padding-bottom: 10.8vw;\n  background-color: #fff;\n  display: flex;\n}\n.menu-wrapper {\n  overflow-y: hidden;\n  /* height: 100%; */\n\n  height: calc(100% - 15.8vw);\n\n  background-color: #f8f8f8;\n  padding-bottom: 10.666667vw;\n  width: 20.533333vw;\n}\n.menu-wrapper li {\n  padding: 4.666667vw 2vw;\n  font-size: 0.6rem;\n  color: #666;\n  line-height: 1.2;\n}\n.menu-wrapper li img {\n  max-width: 100%;\n  width: 3.466667vw;\n  height: 3.466667vw;\n  vertical-align: top;\n  margin-right: 0.8vw;\n}\n\n.foods-wrapper {\n  overflow-y: hidden;\n  /* height: 100%; */\n  height: calc(100% - 12.8vw);\n  width: 79.466667vw;\n  padding-bottom: 10.666667vw;\n}\n.category-title {\n  margin-left: 2.666667vw;\n  padding: 2vw 8vw 2vw 0;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n}\n.category-title strong {\n  margin-right: 1.333333vw;\n  font-weight: 700;\n  font-size: 0.8rem;\n  color: #666;\n  flex: none;\n}\n.category-title span {\n  flex: 1;\n  color: #999;\n  font-size: 0.6rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.fooddetails {\n  min-height: 30.666667vw;\n  padding: 2.666667vw 0 2.666667vw 2.666667vw;\n  margin-bottom: 0.133333vw;\n  display: flex;\n}\n.fooddetails img {\n  width: 25.333333vw;\n  height: 25.333333vw;\n  flex: none;\n  margin-right: 2.666667vw;\n  border-radius: 0.533333vw;\n}\n.fooddetails-info {\n  flex: 1;\n  padding-bottom: 6.666667vw;\n  padding-right: 4vw;\n}\n.fooddetails-info h4 {\n  padding-right: 4vw;\n  font-weight: 700;\n  overflow: hidden;\n  font-size: 1rem;\n  white-space: nowrap;\n  width: 40vw;\n  text-overflow: ellipsis;\n  color: #333;\n}\n.fooddetails-des {\n  margin: 1.333333vw 0;\n  font-size: 0.6rem;\n  color: #999;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 42.666667vw;\n}\n.fooddetails-sales {\n  margin: 1.733333vw 0 !important;\n  color: #999;\n  font-size: 0.6rem;\n  line-height: 1;\n  min-height: 1em;\n}\n.fooddetails-price {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 3.733333vw;\n}\n.fooddetails-price .price {\n  font-size: 1rem;\n  line-height: 4.266667vw;\n  color: #ff5339;\n  padding-bottom: 0.933333vw;\n  display: flex;\n  align-items: baseline;\n}\n\n.menu-wrapper .current {\n  background-color: #fff !important;\n  color: #333 !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods.vue?vue&type=template&id=e5a4869c&scoped=true&\"\nimport script from \"./Goods.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Goods.vue?vue&type=style&index=0&id=e5a4869c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5a4869c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCart.vue?vue&type=style&index=0&id=76a720fe&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartControl.vue?vue&type=style&index=0&id=396f8962&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=style&index=0&id=e5a4869c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Food.vue?vue&type=style&index=0&id=29a5388c&scoped=true&lang=css&\""],"sourceRoot":""}