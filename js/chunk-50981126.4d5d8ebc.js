(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50981126"],{"0418":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLeft,expression:"isLeft"}],staticClass:"header_button is-left"},[n("i",{staticClass:"fa fa-chevron-left"}),n("button",{staticClass:"text",on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])]),n("h1",{staticClass:"header-title"},[t._v(t._s(t.title))])])},i=[],a={name:"Header",props:{title:String,isLeft:{type:Boolean,default:!1}}},o=a,r=(n("71db"),n("2877")),c=Object(r["a"])(o,s,i,!1,null,"2eba6dcc",null);e["a"]=c.exports},"25f0":function(t,e,n){"use strict";var s=n("6eeb"),i=n("825a"),a=n("d039"),o=n("ad6d"),r="toString",c=RegExp.prototype,l=c[r],u=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=r;(u||f)&&s(RegExp.prototype,r,(function(){var t=i(this),e=String(t.source),n=t.flags,s=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?o.call(t):n);return"/"+e+"/"+s}),{unsafe:!0})},"5dae":function(t,e,n){},"71db":function(t,e,n){"use strict";n("af11")},9136:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay"},[n("Header",{attrs:{title:"在线支付"}}),t.orderInfo?n("div",{staticClass:"main"},[n("div",{staticClass:"tip"},[n("p",{staticClass:"countdown-title"},[t._v(" 支付剩余时间 ")]),n("h3",{staticClass:"countdown-text"},[t._v(t._s(t.countDown))])]),n("section",{staticClass:"home"},[n("ul",{staticClass:"list info-list"},[n("li",[n("span",{staticClass:"order-name"},[t._v(t._s(t.orderInfo.shopInfo.name))])])]),n("div",{staticClass:"title"},[t._v("在线支付")]),t._m(0),n("button",{staticClass:"btn-submit",attrs:{disabled:t.timeOut},on:{click:t.pay}},[t._v(" 确认支付 ")])])]):t._e()],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"list payment-list"},[s("li",{staticClass:"payment-list-item"},[s("div",{staticClass:"icon"},[s("img",{attrs:{src:n("e660")}}),s("span",[t._v("微信")])]),s("i",{staticClass:"fa fa-check-circle selected"})])])}],a=(n("d3b7"),n("25f0"),n("0418")),o={name:"Pay",data:function(){return{countDown:"00:15:00",timer:null,timeOut:!1}},beforeRouteEnter:function(t,e,n){n((function(t){t.countTimeDown()}))},computed:{orderInfo:function(){return this.$store.state.orderInfo},totalPrice:function(){return this.$store.getters.totalPrice}},methods:{countTimeDown:function(){var t=this,e=14,n=59;this.timer=setInterval((function(){if(n--,"00"==n&&0==e)return t.countdown="订单已超时",clearInterval(t.timer),void(t.timeOut=!0);"00"===n&&(n=59,e--,e<10&&(e="0"+e)),n<10&&(n="0"+n),t.countDown="00:"+e+":"+n}),1e3)},pay:function(){var t=this,e={body:"米修在线",out_trade_no:(new Date).getTime().toString(),total_fee:1};alert("进入到Pay方法中"),fetch("https://www.thenewstep.cn/wxzf/example/jsapi.php",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.onBridgeReady(e)})).catch((function(t){alert("请求失败")}))},onBridgeReady:function(t){WeixinJSBridge.invoke(t,(function(t){"get_brand_wcpay_request:ok"==t.err_msg&&alert("支付成功")}))}},components:{Header:a["a"]}},r=o,c=(n("b29a"),n("2877")),l=Object(c["a"])(r,s,i,!1,null,"b6c9f9f0",null);e["default"]=l.exports},af11:function(t,e,n){},b29a:function(t,e,n){"use strict";n("5dae")},e660:function(t,e,n){t.exports=n.p+"img/wechat.0055285e.jpg"}}]);
//# sourceMappingURL=chunk-50981126.4d5d8ebc.js.map